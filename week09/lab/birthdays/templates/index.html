{% extends "layout.html" %}

{% block body %}
<div class="section">

      <h2>Add a Birthday</h2>
      <!-- TODO: Create a form for users to submit a name, a month, and a day -->
      <form action="/" method="post">
        <input autocomplete="off" autofocus name="name" placeholder="Name" type="text">
        <input id="datepicker" name="selected_date" placeholder="Date" type="text">
        <button type="submit">Add Birthday</button>
        <div class="error-message {% if error_message %}visible{% endif %}">
          {{ error_message }}
        </div>
      </form>
    </div>

    <div class="section">

      <h2>All Birthdays</h2>
      <table>
        <thead>
          <tr>
            <th>Name</th>
            <th>Month</th>
            <th>Day</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <!-- TODO: Loop through the database entries to display them in this table -->
          {% for birthday in birthdays %}
          <tr>
            <td>{{ birthday.name }}</td>
            <td>{{ birthday.month }}</td>
            <td>{{ birthday.day }}</td>
            <td>
              <a href="{{ url_for('edit', id=birthday.id) }}">Edit</a>
              <a href="{{ url_for('delete', id=birthday.id) }}">Delete</a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>

  <script>
    $(document).ready(function () {
      $("#datepicker").datepicker({
        changeYear: true,
        changeMonth: true,
        yearRange: "1900:2030",
      });
    });
  </script>

{% endblock %}